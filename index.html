<!DOCTYPE html>
<html>
  <head>
    <title>Machine Time For Humans</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"
    />
    <link rel="stylesheet" type="text/css" href="./css/quasar.min.css" />
    <link rel="stylesheet" type="text/css" href="./css/pure-min.css" />
    <link rel="stylesheet" type="text/css" href="./css/spaces.css" />
    <link rel="stylesheet" type="text/css" href="./css/typo.css" />
    <link rel="stylesheet" type="text/css" href="./css/devices.min.css" />
    <link rel="stylesheet" type="text/css" href="./css/gh-fork-ribbon.css" />
    <link rel="stylesheet" type="text/css" href="./css/nord-dark.css" />
    <link rel="stylesheet" type="text/css" href="./css/nord-light.css" />
    <link rel="stylesheet" type="text/css" href="./css/font-nord.css" />
    <link rel="stylesheet" type="text/css" href="./css/bg-nord.css" />
    <link rel="stylesheet" type="text/css" href="./css/font-open-color.css" />
    <link rel="stylesheet" type="text/css" href="./css/bg-open-color.css" />
    <link rel="stylesheet" type="text/css" href="./css/material-icons.css" />
    <link rel="stylesheet" type="text/css" href="./css/abs-layout.css" />
    <link rel="stylesheet" type="text/css" href="./css/border-layout.css" />
    <link rel="stylesheet" type="text/css" href="./css/text-rect.css" />
    <link rel="stylesheet" type="text/css" href="./css/text-circle.css" />
    <link rel="stylesheet" type="text/css" href="./css/card.css" />
    <link rel="stylesheet" type="text/css" href="./css/lines.css" />
    <link rel="stylesheet" type="text/css" href="./css/filters.css" />
    <link rel="stylesheet" type="text/css" href="./fonts/remixicon.css" />
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
  </head>
  <body>
    <textarea id="source">
layout: true
class: typo, typo-selection

---

class: nord-light, center, middle

## Machine Time For Humans

![jim carrey watch](https://media.giphy.com/media/P40Gkig2OTlLy/giphy.gif)

---

class: nord-light

## Milliseconds

- We work with them a lot
- 5000ms timeout
- 100ms HTTP response time

---

class: nord-light

## Microseconds and Nanoseconds

- Microbenchmarking - JMH
- Profiling - YourKit, VisualVM

---

class: nord-light

## Microseconds and Nanoseconds
 
- A microsecond = 1 millionth of a second
- A nanosecond = 1 billionth of a second

---

class: nord-light, center, middle
 
## Imagine a world where computers are slow

![computer rage](https://media.giphy.com/media/3ohs81rDuEz9ioJzAA/giphy.gif)

---

class: nord-light, center, middle
 
## No, I mean <i>really</i> slow

 A 1 nanosecond operation now takes 1 second

![slow sloth](https://media.giphy.com/media/OocLVILtd7ybm/giphy.gif)

---

class: nord-light
 
## a + b

```scala
a + b
```

- This takes 2 seconds

---

class: nord-light
 
## Map.get

```scala
ints.get(key)
```

- This takes 8.5 Seconds

---

class: nord-light, center, middle

## Quiz time!

---

class: nord-light
 
## Half then sum 

```scala
ints.values.map(_ / 2).sum
```

---

class: nord-light, center, middle

## 37 Minutes

---

class: nord-light
 
## Sum then half

```scala
ints.values.sum / 2
```

---

class: nord-light, center, middle

## 15 Minutes

---

class: nord-light
 
## Create an Exception

```scala
new Exception("Oh no!").getStackTrace
```

---

class: nord-light, center, middle

## 1 Hour 52 Minutes

---


class: nord-light
 
## Parse some JSON

```scala
io.circe.parser.parse (
  """{ "foo": "bar", "baz": 123, "list of stuff": [ 4, 5, 6 ] }"""
)
```

---

class: nord-light, center, middle

## 9 Minutes 8 Seconds

---

class: nord-light
 
## HTTP - localhost

```scala
http.client.expect[String]("http://localhost:8080/hello").unsafeRunSync()
```

---

class: nord-light, center, middle

## 3 Days

---

class: nord-light
 
## HTTP - London server

```scala
http.client.expect[String]("https://dynamodb.eu-west-2.amazonaws.com").unsafeRunSync()
```

---

class: nord-light, center, middle

## 6 Months

---

class: nord-light
 
## HTTP - us-east-1 server

```scala
http.client.expect[String]("https://dynamodb.us-east-1.amazonaws.com").unsafeRunSync()
```

---

class: nord-light, center, middle

## 2 Years 11 Months

---

class: nord-light
 
## HTTP - us-west-2 server

```scala
http.client.expect[String]("https://dynamodb.us-west-1.amazonaws.com").unsafeRunSync()
```

---

class: nord-light, center, middle

## 4 Years 11 Months

---

class: nord-light
 
## Integration tests

```scala
sbt it:test
```

---

class: nord-light, center, middle

## 19.97 Millenia

---

class: nord-light, center, middle

## Thanks!

    </textarea>

    <script src="js/remark.min.js"></script>
    <script src="js/vue.js"></script>
    <script src="js/quasar.umd.min.js"></script>
    <script src="js/mermaid.min.js"></script>
    <script>
      // 预处理：去掉每行开头的空格，否则超过2层锁紧的类会导致解析出BUG
      var targetTextArea = document.getElementById("source");
      var lines = targetTextArea.innerHTML.split("\n");
      targetTextArea.innerHTML = lines.map(line => line.replace(/^(?!\s+[\-|0-9])\s+/, "")).join("\n");

      var slideshow = remark.create({
        ratio: "16:9", // window ratio
        // arta, ascetic, dark, default, far, github, googlecode, idea,
        // ir-black, magula, monokai, rainbow, solarized-dark, solarized-light,
        // sunburst, tomorrow, tomorrow-night-blue, tomorrow-night-bright,
        // tomorrow-night, tomorrow-night-eighties, vs, zenburn.
        highlightStyle: "github",
        highlightLines: true,
        countIncrementalSlides: false, // whether the incremental content count as one page
        //slideNumberFormat: "", // If this parameter is set to "", the page number is not displayed
        navigation: {
          scroll: false, // Page turning with mouse wheel is allowed
          touch: true, // Is it allowed to scroll back and forth by clicking on the left or right side of the screen
          click: false // Allow the mouse to click on the left or right side of the screen to turn back and forth
        }
      });

      // 初始化 VUE
      for (var el of document.querySelectorAll(".vue")) {
        new Vue({
          el: el
        });
      }

      // 初始化可点击预览的卡片
      var preview_win_cards = document.querySelectorAll(".preview-win");
      for (var card of preview_win_cards) {
        (clickedCard => {
          clickedCard.addEventListener("click", e => {
            var img = clickedCard.querySelector("img");
            if (img) {
              window.open(img.src);
            }
          });
        })(card);
      }

      // 背景色变化兼容 F11 全屏
      function isFullScreen() {
        return window.fullScreen || (window.innerWidth == screen.width && window.innerHeight == screen.height);
      }

      window.addEventListener("resize", () => {
        if (isFullScreen()) {
          document.body.style["background-color"] = "#000";
        } else {
          document.body.style["background-color"] = "#d7d8d2";
        }
      });

      // 初始化 mermaid
      mermaid.mermaidAPI.initialize({
        startOnLoad: false,
        theme: "forest",
        themeCSS:
          ".tick>text { font-size:26px; }  .taskTextOutsideRight,.taskTextOutsideLeft { font-size:20px; } .titleText {font-size:30px;} .sectionTitle {font-size:20px;}",
        gantt: {
          fontSize: 26,
          barHeight: 30,
          useMaxWidth: false
        }
      });

      var mermaidCmps = document.querySelectorAll(".mermaid");
      for (var i = 0; i < mermaidCmps.length; i++) {
        var mermaidCmp = mermaidCmps[i];
        var insertSvg = function(svgCode, bindFunctions) {
          mermaidCmp.innerHTML = svgCode;
        };

        var graphDefinition = "";
        let pCmps = mermaidCmp.querySelectorAll("pre");
        for (var pCmp of pCmps) {
          graphDefinition += pCmp.textContent.replace(/\\n/g, "<br/>");
        }

        var graph = mermaid.mermaidAPI.render("graphDiv" + i, graphDefinition, insertSvg);
      }
    </script>
  </body>
</html>
